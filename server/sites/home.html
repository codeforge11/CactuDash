<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="static/style.css">
    <title>CactuDash</title>
    <link rel="icon" href="static/img/logomark.svg">
    <script src="static/dashboard.js"></script>
    <script src="static/docker.js"></script>
</head>

<body>
    <div class="navbar">
        <div class="navbar-title">
            <h1>CactuDash </h1>
            <p id="CactuDash_version" ></p>
        </div>
        <div class="containerButtons">
            <button class="documentation" onclick="openDocs()" title="Open documentation">
                <img src="static/img/dashboard/info.svg" alt="Documentation">
            </button>
            <button id="openMenuButton" popovertarget="powerMenu" title="Power">
                    <img src="static/img/dashboard/powerButton.svg"> 
            </button>
        </div>
    </div>

    <div id="powerMenu" popover>
        <button id="ShutdownButton" role="button" onclick="shutdown()" title="Shutdown"> <img src="static/img/dashboard/powerButton.svg" ></button>
        <button id="RebootButton" role="button" onclick="reboot()" title="Reboot"> <img src="static/img/dashboard/rebootButton.svg" ></button>
    </div>

    <div class="container">
        <div class="dynamic-card">
            <h3>System Information:</h3>
            <div style="display: flex; justify-content: center; align-items: center; padding-top: 5px;">
                <table>
                    <tr>
                        <td>Hostname:</td>
                        <td id="hostname">Loading...</td>
                    </tr>
                    <tr>
                        <td>OS:</td>
                        <td id="OS_name">OS</td>
                    </tr>
                    <tr>
                        <td>Arch:</td>
                        <td id="arch">Arch</td>
                    </tr>
                    
                </table>
            </div>
        </div>

        <div class="dynamic-card">
            <h3>CPU Usage:</h3>
            <div id="cpuInfo">
                <canvas id="cpuCanvas" width="100" height="100"></canvas>
                <span id="cpuPercentage">Loading...</span>
            </div>
        </div>

        <div class="dynamic-card">
            <h3>Disk Usage:</h3>
            <div class="progress-container">
                <div class="progress-bar" id="disk-progress"></div>
            </div>
            <div id="disk-usage">Loading disk usage...</div>
        </div>

        <div class="dynamic-card" style="width: 50%;">
            <img src="static/img/docker/docker-logo.svg" alt="Docker" width="200" style="margin-bottom: 20px;" />
            <button popovertarget="addContainer" class="addContainers_button" onclick="showElements()">Add</button>
            <div class="table-containers">
                <table id="dockerTable">
                    <tr>
                        <th>Container ID</th>
                        <th>Name</th>
                        <th>Image</th>
                        <th>Status</th>
                        <th>Actions</th>
                        <th>Restart</th>
                        <th>Remove</th>
                    </tr>
                </table>
            </div>
        </div>

        <div id="addContainer" popover>
            <div id="addContainerCenter">

                <div id="dockerCreate" title="Create Docker" onclick="createDocker()">
                    <img src="static/img/docker/docker-logo.svg" alt="Docker">
                </div>

                <div id="dockerComposeCreate" title="Create Docker Compose" onclick="createDockerCompose()">
                    <img src="static/img/docker/dockerComposeLogo.png" alt="Docker Compose">
                </div>
            </div>
        </div>
        
    </div>
</body>
</html>